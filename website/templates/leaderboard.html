{% extends "base.html" %}
{% block title %}Leaderboard{% endblock %}



{% block content %}


<br>
<div class="float-div">
    <h2 class="p-0">Leaderboard</h2>
</div>
<br>
<div class="float-div flex flex-col items-center">
    {% if leaderboard_message %}
    <div>
        <p class="p-0">{{ leaderboard_message }}</p>
    </div>
    {% elif not leaderboard %}
    <div class="flex flex-row justify-center items-center gap-x-3">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-8 stroke-red-700">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z" />
        </svg>
        <p>Error while trying to access the leaderboard database.</p>
    </div>
    {% else %}
    <div class="p-2 rounded-xl bg-slate-700">
        <table>
            <thead class="border-b-2 border-slate-500">
                <tr>
                    <th>Place</th>
                    <th>User</th>
                    <th>Money Lost ($)</th>
                    <th>Money Lost (%)</th>
                </tr>
            </thead>
            
            <tbody>
                {% for item in leaderboard %}
                
                {% if not loop.last %}
                <tr class="border-b-2 border-slate-500">
                {% else %}
                <tr>
                {% endif %}
                    <td>{{ loop.index }}</td>
                    <td>{{ item['username'] }}</td>
                    <td>{{ item['money_lost'] }}</td>
                    <td>{{ item['percent_money_lost'] }}</td> 
                </tr>
                
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% endif %}
</div>


{% endblock %}